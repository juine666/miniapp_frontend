<view class="nearby-container">
  <!-- ä½ç½®ä¿¡æ¯æ  -->
  <view class="location-bar">
    <view class="location-info">
      <text class="location-icon">ğŸ“</text>
      <text class="location-text">{{locationName}}</text>
      <view wx:if="{{location}}" class="location-radius">{{radius}}km</view>
    </view>
    <view wx:if="{{!location}}" class="retry-btn" bindtap="onRetryLocation">é‡è¯•</view>
  </view>
  
  <!-- å•†å“åˆ—è¡¨ -->
  <view class="goods-list">
    <view wx:for="{{goodsList}}" wx:key="id" wx:for-item="item" wx:for-index="idx" class="goods-card">
      <view class="goods-content" bindtap="onTapDetail" data-id="{{item.id}}">
        <image class="goods-img" src="{{item.coverUrl || 'https://img.yzcdn.cn/vant/cat.jpeg'}}" mode="aspectFill"/>
        <view class="goods-title">{{item.name}}</view>
        <view class="goods-meta">
          <!-- ä¸‹æ¶äº†ä»·æ ¼æ˜¾ç¤º -->
          <!-- <view class="goods-price">ï¿¥{{item.price}}</view> -->
          <view wx:if="{{item.distanceText}}" class="goods-distance">{{item.distanceText}}</view>
        </view>
      </view>
      <view class="action-buttons">
        <view wx:if="{{false}}" class="action-btn share-btn" catchtap="onShare" data-id="{{item.id}}">
          <text class="action-icon">ğŸ“¤</text>
        </view>
        <view class="action-btn favorite-btn {{item.isFavorited ? 'favorited' : ''}}" catchtap="toggleFavorite" data-id="{{item.id}}" data-index="{{idx}}">
          <text class="action-icon">{{item.isFavorited ? 'â¤ï¸' : 'ğŸ¤'}}</text>
        </view>
      </view>
    </view>
    <view wx:if="{{!loading && !goodsList.length && location}}" class="empty-tip">é™„è¿‘æš‚æ— ä½“éªŒ</view>
    <view wx:if="{{loading}}" class="loading-tip">åŠ è½½ä¸­...</view>
  </view>
</view>

