# ⚠️ 重要：uni-app 项目需要先编译！

## 问题原因

微信开发者工具提示"未找到app.json"，是因为：
- **uni-app 项目不能直接导入微信开发者工具**
- 需要先编译成微信小程序代码格式
- 编译后会生成 `app.json`、`app.js`、`app.wxss` 等标准小程序文件

## 解决方案：使用 HBuilderX 编译（推荐）

### 步骤1：下载安装 HBuilderX
访问：https://www.dcloud.io/hbuilderx.html

### 步骤2：导入项目
1. 打开 HBuilderX
2. 文件 → 导入 → 从本地目录导入
3. 选择 `miniapp-frontend-uniapp` 目录

### 步骤3：配置 AppID（可选）
- 打开 `manifest.json`
- 找到 `mp-weixin` → `appid`
- 如果没有 AppID，可以留空（开发测试用）

### 步骤4：编译运行
1. 点击菜单：**运行 → 运行到小程序模拟器 → 微信开发者工具**
2. 或者点击工具栏的运行按钮（绿色▶️）
3. HBuilderX 会自动：
   - 编译项目
   - 生成微信小程序代码（在 `unpackage/dist/dev/mp-weixin` 目录）
   - 自动打开微信开发者工具

### 步骤5：在微信开发者工具中查看
- 编译完成后，微信开发者工具会自动打开
- 如果没有自动打开，手动导入项目：
  - 打开微信开发者工具
  - 选择"导入项目"
  - 路径选择：`miniapp-frontend-uniapp/unpackage/dist/dev/mp-weixin`

## 如果使用命令行编译（需要 Node.js）

### 安装依赖
```bash
cd miniapp-frontend-uniapp
npm install
```

### 安装 uni-app CLI
```bash
npm install -g @dcloudio/uni-cli
```

### 编译到微信小程序
```bash
npm run dev:mp-weixin
```

### 导入编译后的代码
编译完成后，会在项目根目录生成 `dist/dev/mp-weixin` 目录
- 打开微信开发者工具
- 选择"导入项目"
- 路径选择：`miniapp-frontend-uniapp/dist/dev/mp-weixin`

## 常见问题

### Q1: 提示找不到 app.json
**A**: 说明还没有编译，需要先使用 HBuilderX 编译项目

### Q2: 编译后还是找不到 app.json
**A**: 检查编译输出目录：
- HBuilderX: `unpackage/dist/dev/mp-weixin/`
- 命令行: `dist/dev/mp-weixin/`
- 确保导入的是编译后的目录，不是源文件目录

### Q3: 编译报错
**A**: 
- 检查 Node.js 版本（建议 14+）
- 确保已安装所有依赖：`npm install`
- 检查 `manifest.json` 和 `pages.json` 格式是否正确

### Q4: 网络请求失败
**A**: 
- 确认后端服务已启动（http://localhost:8081）
- 在微信开发者工具中：详情 → 本地设置 → 不校验合法域名

## 快速开始（推荐流程）

1. **下载 HBuilderX**：https://www.dcloud.io/hbuilderx.html
2. **导入项目**：文件 → 导入 → 从本地目录导入 → 选择 `miniapp-frontend-uniapp`
3. **点击运行**：运行 → 运行到小程序模拟器 → 微信开发者工具
4. **完成！** 微信开发者工具会自动打开并显示项目

## 文件结构说明

```
miniapp-frontend-uniapp/          ← 源文件目录（不要直接导入这个）
├── pages/                        ← Vue 页面文件
├── utils/                        ← 工具函数
├── manifest.json                 ← uni-app 配置
├── pages.json                    ← 页面路由配置
└── App.vue                       ← 应用根组件

编译后生成（导入这个目录）：
└── unpackage/dist/dev/mp-weixin/ ← 微信小程序代码
    ├── app.json                  ← 小程序配置文件（编译后生成）
    ├── app.js                    ← 小程序入口文件
    ├── app.wxss                  ← 小程序样式文件
    └── pages/                     ← 小程序页面文件
```

## 总结

**关键点**：
- ✅ uni-app 项目必须先编译
- ✅ 使用 HBuilderX 编译最简单
- ✅ 导入编译后的 `unpackage/dist/dev/mp-weixin` 目录
- ❌ 不要直接导入源文件目录


